##########################################
# AderaPOS - Spring Boot Basic Config
##########################################
spring.application.name=AderaPOS
# -------------------------------
# Server
# -------------------------------
server.port=8080
server.servlet.context-path=/aderapos

# -------------------------------
# Database (PostgreSQL)
# -------------------------------
# For local development, uncomment and set your local DB
#spring.datasource.url=jdbc:postgresql://localhost:5432/aderapos_db
#spring.datasource.username=postgres
#spring.datasource.password=local
#spring.datasource.driver-class-name=org.postgresql.Driver
#spring.jpa.hibernate.ddl-auto=update
#spring.jpa.show-sql=true
#spring.jpa.properties.hibernate.format_sql=true
#spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===============================
# Database Configuration For RENDER / Docker
# ===============================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASS}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# JPA / Hibernate
# ===============================
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true


# -------------------------------
# JPA / Hibernate
# -------------------------------
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true

# -------------------------------
# Logging
# -------------------------------
logging.level.org.springframework=INFO
logging.level.com.adera=DEBUG
logging.file.name=aderapos.log

# -------------------------------
# Security & JWT
# -------------------------------
aderapos.jwt.secret=${JWT_SECRET}
aderapos.jwt.expiration-ms=900000   # 15 min
aderapos.jwt.refresh-expiration-ms=604800000  # 7 days
aderapos.security.password-encoder=bcrypt  # bcrypt or argon2

# -------------------------------
# Offline / Sync
# -------------------------------
aderapos.offline.queue-path=./offline-queue
aderapos.offline.sync-interval-ms=60000   # 60 sec
aderapos.offline.max-retries=5
aderapos.offline.retry-backoff-ms=5000

# -------------------------------
# Crypto / Invoice Signing
# -------------------------------
aderapos.crypto.private-key-path=./keys/private_key.pem
aderapos.crypto.public-key-path=./keys/public_key.pem
aderapos.crypto.algorithm=RSA
aderapos.crypto.key-size=2048
aderapos.crypto.signature-algorithm=SHA256withRSA

# -------------------------------
# QR / Invoice
# -------------------------------
# Local dev
#aderapos.qr.base-url=http://localhost:8080/aderapos/api/verify
# Production (set via env var if needed)
aderapos.qr.base-url=${QR_BASE_URL:https://aderapos.com/verify}
aderapos.invoice.canonical-json=true

# -------------------------------
# External Services (Mock MoR / Telegram)
# -------------------------------
aderapos.telegram.bot-token=${TELEGRAM_BOT_TOKEN}
aderapos.telegram.bot-username=${TELEGRAM_BOT_USERNAME}
aderapos.mor.api-url=${MOR_API_URL:https://mock-mor-api.local}
aderapos.mor.retry-interval-ms=15000
aderapos.mor.max-retries=3
# Telegram Bot Mini App Launcher
aderapos.telegram.miniapp-url=${MINIAPP_URL:https://aderapos.netlify.app/}

# -------------------------------
# Monitoring / Health
# -------------------------------
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always

aderapos.api.base-url=${API_BASE_URL:http://localhost:8080/aderapos}
